# Codex-Backend
## Установка 
Команда `npm install` - установливает все зависимости.

## Как устроенна API
У нас есть 7 маршрутов:

- `/workspaces` - Для добавления нового воркспейса (POST)
- `/workspaces/id` - Для получения информации о воркспейсе с id (GET)
- `/workspaces/id/servers` - Для получения информации о серверах в воркспейсе с id (GET)
- `/servers` -  Для получения информации о всех серверах (GET)
- `/servers/id` - Для получения информации о сервере с id (GET)
- `/ping/id` - Для пинга проектов, которые хостятся на сервере id (GET)
- `/agents` - Для отправки информации о сервере (для Агентов) (PATCH)


JSON для POST-запроса на /workspaces выглядит так :
```javascript
{
    name: Имя воркспейса,
    servers: {
        name: Имя сервера,
        projects: [
            {
                name: Имя проекта(линк),
                status: состояние (200 - работает, 500 - упал)
            },
            ...
        ]
    }
}
```

## Тестирование
В качестве БД я использую [MongoDB](https://www.mongodb.com/).
Для тестирования нужно создать файл .env и заполнить его по примеру .env.example.

Команда `npm run dev` - запускает сервер.